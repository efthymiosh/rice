- name: Configure ubuntu desktop
  hosts: localhost
  become: true

  vars_files:
  - "./vars/themes/dark/onedark.yml"
  - "./vars/common.yml"

  vars:
    provision_hostname: "tile"
    x_cursor_size: "32"
    x_cursor_theme: "Bibata-Modern-Onedark-Green"
    global_font: "0xProto Nerd Font"
    alacritty_font_size: "{{ global_font_size }}"
    niri_wallpaper: "Pictures/wallpapers/city_by_florentllamas_d8gq6cp.jpg"
    waybar_thermal_zone: 6

  roles:
  - role: packages
    tags: packages
  - role: development
    tags: development
  - role: terminal
    tags: terminal
  - role: fonts
    tags: fonts
  - role: boot
    tags: boot
  - role: desktop/wayland
    tags: wayland
  - role: apps/firefox
    tags: firefox
  - role: arch-fixes
    tags: arch-fixes

  tasks:
  - name: modify hostname
    hostname:
      name: "{{ provision_hostname }}"

  - name: work around rog falchion sending power and suspend signals
    file:
      path: "/etc/udev/hwdb.d/99-asus-falchion.hwdb"
      state: absent
